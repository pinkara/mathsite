name: Test Secrets

on: workflow_dispatch

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Check if secrets exist
        run: |
          echo "Checking if VITE_SUPABASE_URL is set..."
          if [ -n "${{ secrets.VITE_SUPABASE_URL }}" ]; then
            echo "✅ VITE_SUPABASE_URL is configured"
            echo "URL starts with: $(echo '${{ secrets.VITE_SUPABASE_URL }}' | cut -c1-30)..."
          else
            echo "❌ VITE_SUPABASE_URL is NOT configured"
            echo "Please add it in Settings > Secrets and variables > Actions"
            exit 1
          fi
          
          echo ""
          echo "Checking if VITE_SUPABASE_ANON_KEY is set..."
          if [ -n "${{ secrets.VITE_SUPABASE_ANON_KEY }}" ]; then
            echo "✅ VITE_SUPABASE_ANON_KEY is configured"
            echo "Key starts with: $(echo '${{ secrets.VITE_SUPABASE_ANON_KEY }}' | cut -c1-20)..."
          else
            echo "❌ VITE_SUPABASE_ANON_KEY is NOT configured"
            echo "Please add it in Settings > Secrets and variables > Actions"
            exit 1
          fi
          
          echo ""
          echo "✅ All secrets are configured correctly!"
